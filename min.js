let a=0,b=[],d=[],f=0,g=[],h=0;export const c=e=>{const t=a++;return b.push((()=>e(q(`#u${t}`)))),`<span id="u${t}"></span>`};export const q=e=>{const t="string"==typeof e?document.querySelector(e):e;return{val:()=>t,html:e=>{t.innerHTML=e;const r=Array.from(b);b=[],r.forEach((e=>e()))},q:e=>q(t.querySelector(e)),on:(e,r)=>t.addEventListener(e,r)}};export const store=e=>{const t=f++,r=h;return void 0===d[t]&&(d[t]=e),{get val(){return d[t]},set val(e){d[t]=e;const s=f;f=t+1,g[r].forEach((e=>e())),f+=s}}};export const watch=e=>{const t=h++;void 0===g[t]&&(g[t]=[]),g[t].push((()=>{const r=h;h=t+1,e(),h+=r})),e()};