let t=0,e=[],n=0,r=[],o=[],s=0,c=[];const u=t=>{const n="string"==typeof t?document.querySelector(t):t;return{val:()=>n,html:t=>{n.innerHTML=t;const r=Array.from(e);e=[],r.forEach((t=>t()))},q:t=>u(n.querySelector(t)),on:(t,e)=>n.addEventListener(t,e)}},a=n=>{const r=t++;return e.push((()=>n(u(`#u${r}`)))),`<span id="u${r}"></span>`},l=t=>{const e=n++;return r[e]=r[e]??t,{get val(){const t=s-1;return o[e]=o[e]??[],o[e].includes(t)||o[e].push(t),r[e]},set val(t){r[e]=t,n=e+1,o[e].forEach((t=>c[t]()))}}},p=t=>{const e=s++;c[e]=()=>{s=e+1,t()},t()};export{a as c,u as q,l as store,p as watch};
