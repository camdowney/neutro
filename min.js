let t=0,e=0,r=[],n=[],s=0,o=[];const u=(...t)=>e=>e.html(...t),c=e=>{const r="string"==typeof e?document.querySelector(e):e;return{get val(){return r},get class(){return r.classList},html:(e,...n)=>{let s=[e[0],e.map(((t,r)=>[n[r],e[r+1]]))].flat(1/0),o=[],u=[];s.forEach((e=>{if(void 0===e)return;if("function"!=typeof e)return o.push(e+"");const r=t++;u.push((()=>e(c(`#u${r}`)))),o.push(`<div id="u${r}"></div>`)})),r.innerHTML=o.map((t=>t.replace(/\s+/g," "))).join(""),u.forEach((t=>t()))},q:t=>{const e=[...r.querySelectorAll(t)].map(c);return 1===e.length?e[0]:e},on:(t,e)=>r.addEventListener(t,e)}},l=t=>{const u=e++;return r[u]=r[u]??t,{get val(){const t=s-1;return n[u]=n[u]??[],n[u].includes(t)||n[u].push(t),r[u]},set val(t){r[u]=t,e=u+1,n[u].forEach((t=>o[t]()))}}},a=t=>{const e=s++;o[e]=()=>{s=e+1,t()},t()};export{u as h,c as q,l as store,a as watch};
