let a=0,b=[],d=0,f=[],g=0;export const c=t=>{const e=a;t||a++;const s=()=>"string"==typeof t?document.querySelector(t):t??document.querySelector(`#u${e}`);return{val:s,ref:()=>t?"":`<span id="u${e}"></span>`,html:t=>s().innerHTML=t,select:t=>c(s().querySelector(t)),on:(t,e)=>s().addEventListener(t,e)}};export const store=t=>{const e=d++,s=g;return void 0===b[e]&&(b[e]=t),{get val(){return b[e]},set val(t){b[e]=t;const o=d;d=e+1,f[s].forEach((t=>t())),d=o+d}}};export const watch=t=>{const e=g++;void 0===f[e]&&(f[e]=[]),f[e].push((()=>{const s=g;g=e+1,t(),g=s+g})),t()};