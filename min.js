let e=0,t=0,r=[],n=[],a=0,l=[];const c=(t,r=document)=>{const n="string"==typeof t?[...r.querySelectorAll(t)]:[t];return{get val(){return n[0]},get class(){return n[0].classList},all:()=>n.map(c),q:e=>c(e,n[0]),on:(e,t)=>n[0].addEventListener(e,t),html:(t,...r)=>{let a=[t[0],r.map(((e,r)=>[e,t[r+1]]))].flat(1/0),l=[],o=[];a.forEach((t=>{if(void 0===t)return;if("function"!=typeof t)return l.push((t+"").replace(/\s+/g," "));const r=e++;o.push((()=>t(c(`#u${r}`)))),l.push(`<div id="u${r}"></div>`)})),n[0].innerHTML=l.join(""),o.forEach((e=>e()))}}},o=e=>(e||"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;").trim(),s=e=>{const c=t++;return r[c]=r[c]??e,n[c]=n[c]??new Set,{get val(){return n[c].add(a-1),r[c]},set val(e){r[c]=e,t=c+1,n[c].forEach((e=>l[e]()))}}},u=e=>{const t=a++;l[t]=()=>{a=t+1,e()},e()};export{o as esc,c as q,s as store,u as watch};
